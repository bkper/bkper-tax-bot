
The Bkper Sales Tax Bot is triggered upon transaction posting and calculate **taxes** based on its amount, such as **VAT**, **GST** and the like, recording a new transaction with that information. 

<p align="center">
  <img src='https://bkper.com/images/bots/bkper-tax-bot/bkper-tax-bot.gif' alt='Bkper Sales Tax Bot in action'/>
</p>


### Tax on sale example
![Tax on sale example](https://docs.google.com/drawings/d/e/2PACX-1vSwYOxDA3k5U5I_jVsa2qzJOCXDiUWTLet_TY2VMFetrkGOwjKKNCZb6ygfSLz1V-bWrsDixVvSRRvX/pub?w=936&h=488)


### Tax on purchase example
![Tax on sale example](https://docs.google.com/drawings/d/e/2PACX-1vSQ5qwre1ivZZulAcKPRARYgpDiOyRdJ52LdaImkVPsCiYZOZGqqkUg-k4YgLhR4GHsOjwv7D5eLDQo/pub?w=936&h=488)
    

The examples use simplified cash basis for easy understanding. You can also set more complex tax flows involving accounts [payable](https://help.bkper.com/en/articles/2569171-accounts-payable) and [receivable](https://help.bkper.com/en/articles/2569170-accounts-receivable) instead of the direct Bank Account.


Learn more about sales taxes and bots on Bkper:

[Bkper Bots Installation](https://help.bkper.com/en/articles/3873607-bkper-bots-installation)    

[Sales taxes on Bkper](https://help.bkper.com/en/articles/2569187-sales-taxes-vat)  

[Sales Tax Bot help](https://help.bkper.com/en/articles/4127778-sales-tax-bot)    

## Sponsors ‚ù§

[<img src='https://storage.googleapis.com/bkper-public/logos/ppv-logo.png' height='50'>](http://ppv.com.uy/)
&nbsp;
[<img src='https://storage.googleapis.com/bkper-public/logos/brain-logo.webp' height='50'>](https://www.brain.uy/)

## Configuration

The Tax Bot works by reading the [book and accounts properties](https://help.bkper.com/en/articles/3666485-custom-properties-on-books-and-accounts) in your book, applying taxes rates and recording another transaction. 
[Learn more](https://help.bkper.com/en/articles/4127778-bkper-tax-bot).

### Accounts or group properties

- ```tax_rate```: The tax rate to apply to the new transaction
- ```tax_description```: The description of the generated transaction

Example:
```yaml
tax_rate: 12.85
tax_description: #vatin
```

#### Expressions

Expressions allow to dynamically insert values from the current **account** and the **transaction** being posted.

The following expressions can be used in the **tax_description**:

- ```${account.name}```
- ```${transaction.description}```

Example:
``` yaml
tax_description: ${account.name} Input Tax #vatin ${transaction.description}
```

### Book properties

In some cases, you need to avoid calculating taxes from transactions generated by other bots, to avoid infine loop. 

To do so, you should set a property in the book, specifying the id of the bots you want to skip.

- ```tax_skip```: The ids of bots you should skip calculating taxes.

Example:
```yaml
tax_skip: exchange-bot ofx-importer
```

See the [Sales Tax Bot help article](https://help.bkper.com/en/articles/4127778-sales-tax-bot) for a working example.